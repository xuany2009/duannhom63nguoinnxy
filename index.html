<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tam Ca B√°nh Ng·ªçt</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    
<div id="wrapper"> 
    <div id="header"> 
        <a href="index.html" class="logo"> 
            <img src="./·∫£nh/logo.jpg" alt="Logo Ti·ªám B√°nh" width="150" height="100"> 
        </a>
        
       <div id="menu">
        <div class="item">
            <a href="index.html">Trang Ch·ªß</a>
        </div>
        <div class="item">
            <a href="#products">S·∫£n ph·∫©m</a>
        </div>
        <div class="item">
            <a href="#shop-intro">Gi·ªõi thi·ªáu</a>
        </div>
        <div class="item">
           <a href="about-us.html">Th√†nh vi√™n</a>
        </div>
        <div class="item">
            <a href="#footer">Li√™n h·ªá</a>
        </div>
            
        </div>

        <div id="actions">
            
            <div class="item" style="position: relative;" id="user-profile-container">
                <div id="user-profile">
                    <img id="user-avatar" src="" alt="Avatar">
                </div>
                
        
                <div id="user-dropdown" class="user-dropdown">
                    <div class="user-dropdown-item" id="dropdown-username">
                        <i class="fas fa-user"></i>
                        <span id="dropdown-username-text"></span>
                    </div>
                    <div class="user-dropdown-divider"></div>
                    <a href="sop.html" class="user-dropdown-item">
                        <i class="fas fa-shopping-cart"></i>
                        Gi·ªè h√†ng
                    </a>
                    <a href="#" class="user-dropdown-item" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        ƒêƒÉng xu·∫•t
                    </a>
                </div>
                <!-- Ng√¥ Nguy·ªÖn Xu√¢n √ù -->
                <a href="login.html" id="login-btn" title="ƒêƒÉng nh·∫≠p">
                    <i class="fas fa-user-circle"></i>
                </a>
            </div>
            
            <div class="item" style="position: relative;">
                <a href="sop.html" id="cart-btn" title="Gi·ªè h√†ng">
                    <i class="fas fa-shopping-cart"></i>
                </a>
                <span id="cart-badge" style="
                    position: absolute;
                    top: -8px;
                    right: -8px;
                    background: linear-gradient(135deg, #ff4081, #e91e63);
                    color: white;
                    border-radius: 50%;
                    width: 22px;
                    height: 22px;
                    font-size: 12px;
                    display: none;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
                    z-index: 100;
                ">0</span>
            </div>  
        </div>
    </div>

    <div id="banner">
        <div class="box-left">
            <h2>
                <span>B√ÅNH KEM</span>
                <br>
                <span>CAO C·∫§P - T∆Ø∆†I NGON</span>
            </h2>
            <p style=" transform: translateX(170px);">Chuy√™n cung c·∫•p b√°nh kem ch·∫•t l∆∞·ª£ng cao v·ªõi nguy√™n li·ªáu nh·∫≠p kh·∫©u. ƒê·∫∑t online giao t·∫≠n n∆°i trong 2 gi·ªù</p>
            
        </div>
       
        <!-- <div class="to-bottom">
            <a href="#products" class="scroll-down">
                <img src="./·∫£nh/angle-down.png" alt="Xem s·∫£n ph·∫©m">
            </a>
        </div> -->
    </div>
    
    <!-- PH·∫¶N M·ªöI: DANH M·ª§C B√ÅNH -->
    <div class="category-nav-section">

        <!-- PH·∫¶N DANH M·ª§C & S·∫¢N PH·∫®M -->
<div class="category-products-container">
    <!-- Sidebar danh m·ª•c -->
    <div class="category-sidebar-container">
        <h2><i class="fas fa-bars"></i> DANH M·ª§C B√ÅNH</h2>
        <div class="category-list">
            <a href="#products" class="category-item active" onclick="filterProducts('all')">
                <i class="fas fa-star"></i>
                <span>T·∫•t c·∫£ s·∫£n ph·∫©m</span>
                <span class="count">(60+)</span>
            </a>
            <a href="#" class="category-item" onclick="filterProducts('birthday')">
                <i class="fas fa-birthday-cake"></i>
                <span>B√°nh Sinh Nh·∫≠t</span>
                <span class="count">(15)</span>
            </a>
            <a href="#" class="category-item" onclick="filterProducts('wedding')">
                <i class="fas fa-ring"></i>
                <span>B√°nh C∆∞·ªõi</span>
                <span class="count">(10)</span>
            </a>
            <a href="#" class="category-item" onclick="filterProducts('cupcake')">
                <i class="fas fa-cupcake"></i>
                <span>B√°nh Cupcake</span>
                <span class="count">(12)</span>
            </a>
            <a href="#" class="category-item" onclick="filterProducts('mousse')">
                <i class="fas fa-ice-cream"></i>
                <span>B√°nh Mousse</span>
                <span class="count">(10)</span>
            </a>
            <a href="#" class="category-item" onclick="filterProducts('combo')">
                <i class="fas fa-gift"></i>
                <span>Combo & Set Qu√†</span>
                <span class="count">(8)</span>
            </a>
            <a href="#" class="category-item sale" onclick="filterProducts('sale')">
                <i class="fas fa-tag"></i>
                <span>Khuy·∫øn m√£i</span>
                <span class="count">Hot</span>
            </a>
            <a href="#" class="category-item new" onclick="filterProducts('new')">
                <i class="fas fa-fire"></i>
                <span>S·∫£n ph·∫©m m·ªõi</span>
                <span class="count">New</span>
            </a>
        </div>
        
        <div class="category-banner">
            <h3><i class="fas fa-gift"></i> ∆ØU ƒê√ÉI ƒê·∫∂C BI·ªÜT</h3>
            <p>Gi·∫£m ngay 15% cho ƒë∆°n h√†ng ƒë·∫ßu ti√™n</p>
            <p>Mi·ªÖn ph√≠ giao h√†ng ƒë∆°n t·ª´ 500k</p>
            <button class="promo-btn" onclick="showPromoCode()">
                <i class="fas fa-ticket-alt"></i> L·∫•y m√£ gi·∫£m gi√°
            </button>
        </div>
    </div>
    
    <!-- Ph·∫ßn hi·ªÉn th·ªã s·∫£n ph·∫©m -->
<div class="products-main-content">
    <div class="products-header">
        <h2 id="category-title">T·∫§T C·∫¢ S·∫¢N PH·∫®M</h2>
        <p class="category-description" id="category-description">Kh√°m ph√° nh·ªØng chi·∫øc b√°nh kem th∆°m ngon, t∆∞∆°i m·ªõi</p>
        
        <!-- TH√äM THANH T√åM KI·∫æM -->
        <div class="search-container">
            <input type="text" 
                   class="search-box" 
                   id="search-input" 
                   placeholder="üîç T√¨m ki·∫øm s·∫£n ph·∫©m theo t√™n, m√¥ t·∫£, danh m·ª•c..."
                   onkeyup="searchProducts(event)">
            <button class="search-btn" onclick="performSearch()">
                <i class="fas fa-search"></i>
            </button>
        </div>
        
        <!-- Hi·ªÉn th·ªã k·∫øt qu·∫£ t√¨m ki·∫øm -->
        <div class="search-results-header" id="search-results-header" style="display: none;">
            <h3>K·∫øt qu·∫£ t√¨m ki·∫øm</h3>
            <p id="search-results-count">T√¨m th·∫•y 0 s·∫£n ph·∫©m</p>
        </div>
    </div>
    
    <!-- N∆°i hi·ªÉn th·ªã s·∫£n ph·∫©m -->
    <div class="products-grid" id="products-grid">
        <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông b·∫±ng JavaScript -->
    </div>
    
    <!-- Ph√¢n trang -->
    <div class="pagination" id="pagination">
        <!-- Ph√¢n trang s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông b·∫±ng JavaScript -->
    </div>
</div>
    
</div>

    </div>
    
    <br>
    <br>

    <h2 id="products">üç∞ B√ÅNH KEM SINH NH·∫¨T</h2>
    <div class="ten-container1" id="danhsach1"></div>

    <h2>üíç B√ÅNH KEM C∆Ø·ªöI</h2>
    <div class="ten-container2" id="danhsach2"></div>

    <h2>üßÅ B√ÅNH CUPCAKE</h2>
    <div class="ten-container3" id="danhsach3"></div>
    
    <h2>üéÇ B√ÅNH MOUSSE & ƒê·∫∂C BI·ªÜT</h2>
    <div class="ten-container4" id="danhsach4"></div>
    
    <h2>üéÅ COMBO & SET QU√Ä T·∫∂NG</h2>
    <div class="ten-container5" id="danhsach5"></div>

    <br><br><br><br>
</div>


<!-- Th√™m ph·∫ßn n√†y sau ph·∫ßn s·∫£n ph·∫©m, tr∆∞·ªõc ph·∫ßn th√†nh vi√™n -->
<div id="shop-intro" class="shop-intro-section">
    <h2>üè™ GI·ªöI THI·ªÜU TI·ªÜM B√ÅNH</h2>
    
    <div class="intro-container">
        <div class="intro-image">
            <img src="./·∫£nh/logo.jpg" alt="Ti·ªám B√°nh BA Anh Ch√†ng" onerror="this.src='./·∫£nh/default-cake.jpg'">
        </div>
        
        <div class="intro-content">
            <div class="intro-card">
                <i class="fas fa-crown"></i>
                <h3>Ch·∫•t L∆∞·ª£ng Cao C·∫•p</h3>
                <p>Ch√∫ng t√¥i s·ª≠ d·ª•ng nguy√™n li·ªáu nh·∫≠p kh·∫©u ch·∫•t l∆∞·ª£ng cao, ƒë·∫£m b·∫£o an to√†n v·ªá sinh th·ª±c ph·∫©m</p>
            </div>
            
            <div class="intro-card">
                <i class="fas fa-heart"></i>
                <h3>Y√™u Th∆∞∆°ng Trong T·ª´ng Chi·∫øc B√°nh</h3>
                <p>M·ªói chi·∫øc b√°nh ƒë∆∞·ª£c l√†m v·ªõi t·∫•t c·∫£ t√¨nh y√™u v√† s·ª± t·ªâ m·ªâ c·ªßa nh·ªØng ng∆∞·ªùi th·ª£ l√†nh ngh·ªÅ</p>
            </div>
            
            <div class="intro-card">
                <i class="fas fa-bolt"></i>
                <h3>Giao H√†ng Nhanh Ch√≥ng</h3>
                <p>ƒê·∫∑t online - Giao t·∫≠n n∆°i trong 2 gi·ªù. Ph·ª•c v·ª• 24/7 cho nh·ªØng d·ªãp ƒë·∫∑c bi·ªát</p>
            </div>
            
            <div class="intro-card">
                <i class="fas fa-award"></i>
                <h3>Th∆∞∆°ng Hi·ªáu Uy T√≠n</h3>
                <p>5 nƒÉm kinh nghi·ªám v·ªõi h√†ng ng√†n kh√°ch h√†ng tin t∆∞·ªüng v√† ·ªßng h·ªô</p>
            </div>
        </div>
    </div>
    
    <div class="story-section">
        <h3><i class="fas fa-book-open"></i> C√¢u Chuy·ªán C·ªßa Ch√∫ng T√¥i</h3>
        <p>Ti·ªám b√°nh <strong>BA Anh Ch√†ng</strong> ƒë∆∞·ª£c th√†nh l·∫≠p nƒÉm 2019 v·ªõi mong mu·ªën mang ƒë·∫øn nh·ªØng chi·∫øc b√°nh kem kh√¥ng ch·ªâ ƒë·∫πp m·∫Øt m√† c√≤n ngon mi·ªáng, an to√†n cho s·ª©c kh·ªèe. Xu·∫•t ph√°t t·ª´ t√¨nh y√™u v·ªõi ngh·ªá thu·∫≠t l√†m b√°nh v√† mong mu·ªën t·∫°o ra nh·ªØng s·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng, ch√∫ng t√¥i ƒë√£ kh√¥ng ng·ª´ng h·ªçc h·ªèi v√† c·∫£i ti·∫øn ƒë·ªÉ mang ƒë·∫øn cho kh√°ch h√†ng nh·ªØng tr·∫£i nghi·ªám t·ªët nh·∫•t.</p>
        
        <div class="mission-vision">
            <div class="mission">
                <h4><i class="fas fa-bullseye"></i> S·ª© M·ªánh</h4>
                <p>"Lan t·ªèa ni·ªÅm vui v√† h·∫°nh ph√∫c qua nh·ªØng chi·∫øc b√°nh ch·∫•t l∆∞·ª£ng, mang ƒë·∫øn tr·∫£i nghi·ªám ·∫©m th·ª±c tuy·ªát v·ªùi cho m·ªçi kh√°ch h√†ng."</p>
            </div>
            
            <div class="vision">
                <h4><i class="fas fa-eye"></i> T·∫ßm Nh√¨n</h4>
                <p>"Tr·ªü th√†nh ti·ªám b√°nh kem h√†ng ƒë·∫ßu, ƒë∆∞·ª£c y√™u th√≠ch v√† tin t∆∞·ªüng nh·∫•t t·∫°i Vi·ªát Nam, g√≥p ph·∫ßn n√¢ng cao vƒÉn h√≥a ·∫©m th·ª±c b√°nh ng·ªçt."</p>
            </div>
        </div>
    </div>
</div>

<br><br>






<!-- T√¨m ph·∫ßn n√†y trong index.html -->
<div id="comment">
    <h2>üë• C√ÅC TH√ÄNH VI√äN TRONG NH√ìM</h2>
    <div id="comment-body">
        
        <ul id="list-comment">
            <li class="item" onclick="viewMemberDetail('caodiep')"> 
                <div class="avatar">
                    <img src="./·∫£nh/cvƒë.jpg" alt="Cao VƒÉn ƒêi·ªáp" width="250" height="200">
                </div>
                <div class="name">Cao VƒÉn ƒêi·ªáp</div>
                <div class="text">
                    <p>Ph√°t tri·ªÉn giao di·ªán ng∆∞·ªùi d√πng & tr·∫£i nghi·ªám mua s·∫Øm</p>
                </div>
            </li>
            <li class="item" onclick="viewMemberDetail('ngoxy')"> 
                <div class="avatar">
                    <img src="./·∫£nh/nnxy.jpg" alt="Ng√¥ Nguy·ªÖn Xu√¢n √ù" width="250" height="200">
                </div>
                <div class="name">Ng√¥ Nguy·ªÖn Xu√¢n √ù</div>
                <div class="text">
                    <p>Nh√≥m tr∆∞·ªüng - Qu·∫£n l√Ω d·ª± √°n & ph√°t tri·ªÉn backend</p>
                </div>
            </li>
            
            <li class="item" onclick="viewMemberDetail('ngocthien')"> 
                <div class="avatar">
                    <img src="./·∫£nh/nnt2.jpg" alt="nguy·ªÖn ng·ªçc thi·ªán" width="250" height="200">
                </div>
                <div class="name">Nguy·ªÖn Ng·ªçc Thi·ªán</div>
                <div class="text">
                    <p>Thi·∫øt k·∫ø giao di·ªán & x·ª≠ l√Ω h√¨nh ·∫£nh s·∫£n ph·∫©m</p>
                </div>
            </li>
        </ul>
    </div>
</div>
<div id="footer">
    <div class="box">
        <div class="logo">
            <img src="./·∫£nh/logo.jpg" alt="Logo" width="150" height="100">
        </div>
        <p>"H∆∞∆°ng v·ªã ng·ªçt ng√†o cho m·ªçi d·ªãp ƒë·∫∑c bi·ªát"</p>
        <p>‚è∞ M·ªü c·ª≠a: 7:00 - 22:00 h√†ng ng√†y</p>
    </div>
    <div class="box">
        <h3>Li√™n k·∫øt nhanh</h3>
        <ul class="quick-menu">
            <div class="item">
                <a href="index.html">Trang ch·ªß</a>
            </div>
            <div class="item">
               <a href="#products">S·∫£n ph·∫©m</a>
            </div>
            <div class="item">
                <a href="#comment">Gi·ªõi thi·ªáu</a>
            </div>
            <div class="item">
                <a href="#footer">Li√™n h·ªá</a>
            </div>
            <div class="item">
                <a href="login.html">ƒêƒÉng nh·∫≠p</a>
            </div>
        </ul>
    </div>
    <!-- <div class="box">
        <h3>Ch√≠nh s√°ch</h3>
        <ul class="quick-menu">
            <div class="item">
                <a href="#">Ch√≠nh s√°ch giao h√†ng</a>
            </div>
            <div class="item">
                <a href="#">B·∫£o m·∫≠t th√¥ng tin</a>
            </div>
            <div class="item">
                <a href="#">ƒê·ªïi tr·∫£ & ho√†n ti·ªÅn</a>
            </div>
            <div class="item">
                <a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
            </div>
        </ul>
    </div> -->
    <div class="box">
            <h3>Th√¥ng tin li√™n h·ªá</h3>
            <p><i class="fas fa-map-marker-alt"></i> 79 ƒêT743, Binh Ho√†, Thu·∫≠n An, B√¨nh D∆∞∆°ng</p>
            <p><i class="fas fa-phone"></i> 0935 656 603</p>
            <p><i class="fas fa-envelope"></i> ngonguyenxuany@gmail.com</p>
        </div>




    <div class="box">
        <h3>ƒêƒÉng k√Ω nh·∫≠n tin</h3>
        <p>Nh·∫≠n ∆∞u ƒë√£i 10% cho ƒë∆°n h√†ng ƒë·∫ßu ti√™n</p>
        <form id="newsletter-form">
            <input type="email" placeholder="Email c·ªßa b·∫°n" required>
            <button type="submit">ƒêƒÉng k√Ω</button>
        </form>
        <div class="social-icons">
            <a href="https://www.facebook.com/bdi.edu.vn"><i class="fab fa-facebook"></i></a>
            <a href="https://www.youtube.com/@xuany8066"><i class="fab fa-youtube"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-tiktok"></i></a>
            
        </div>
    </div>
</div>

<!-- thanh cu·ªôn -->
<div class="scroll-to-top" id="scrollToTop" title="L√™n ƒë·∫ßu trang">
    <img src="./·∫£nh/angle-down.png" alt="L√™n ƒë·∫ßu trang" style="transform: rotate(180deg);">
</div>

<!-- Script qu·∫£n l√Ω s·∫£n ph·∫©m -->
<script src="main.js"></script>

<!-- Script qu·∫£n l√Ω gi·ªè h√†ng -->
<script src="cart.js"></script>

<!-- Script x·ª≠ l√Ω l·ªói -->
<script src="error-handler.js"></script>

<script>
    // H·ªá th·ªëng ƒëƒÉng nh·∫≠p/qu·∫£n l√Ω ng∆∞·ªùi d√πng
    const AuthSystem = {
        isLoggedIn: function() {
            return !!localStorage.getItem('currentUser');
        },
        
        getCurrentUser: function() {
            const user = localStorage.getItem('currentUser');
            return user ? JSON.parse(user) : null;
        },
        
        logout: function() {
            localStorage.removeItem('currentUser');
            this.updateAuthUI();
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        },
        





     updateAuthUI: function() {
    const currentUser = this.getCurrentUser();
    const userProfile = document.getElementById('user-profile');
    const loginBtn = document.getElementById('login-btn');
    const dropdownUsername = document.getElementById('dropdown-username-text');
    const userDropdown = document.getElementById('user-dropdown');
    const userAvatar = document.getElementById('user-avatar');
    
    if (currentUser && userProfile && userAvatar) {
        userAvatar.src = currentUser.avatar || 'https://i.pravatar.cc/150?img=3';
        userAvatar.onerror = function() {
            this.src = 'https://i.pravatar.cc/150?img=3';
        };
        
        if (dropdownUsername) {
            dropdownUsername.textContent = currentUser.username;
        }
        
        if (userProfile) userProfile.style.display = 'block';
        if (loginBtn) loginBtn.style.display = 'none';
        if (userDropdown) userDropdown.style.display = 'none';
        
        // C·∫≠p nh·∫≠t avatar trong user profile
        const profileAvatar = userProfile.querySelector('img');
        if (profileAvatar) {
            profileAvatar.src = currentUser.avatar || 'https://i.pravatar.cc/150?img=3';
            profileAvatar.onerror = function() {
                this.src = 'https://i.pravatar.cc/150?img=3';
            };
        }
    } else {
        if (loginBtn) loginBtn.style.display = 'block';
        if (userProfile) userProfile.style.display = 'none';
        if (userDropdown) userDropdown.style.display = 'none';
    }
},



        
        init: function() {
            this.updateAuthUI();
            
            const userProfile = document.getElementById('user-profile');
            if (userProfile) {
                userProfile.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const userDropdown = document.getElementById('user-dropdown');
                    if (userDropdown) {
                        userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
                    }
                });
            }
            
            document.addEventListener('click', (e) => {
                const userDropdown = document.getElementById('user-dropdown');
                if (userDropdown && !e.target.closest('#user-profile-container')) {
                    userDropdown.style.display = 'none';
                }
            });
        }
    };
    
   
    // H√†m l·ªçc b√°nh theo danh m·ª•c
    function filterCakes(category) {
        // X√≥a active kh·ªèi t·∫•t c·∫£ category items
        document.querySelectorAll('.category-item').forEach(item => {
            item.classList.remove('active');
        });
        
        // Th√™m active v√†o category ƒë∆∞·ª£c ch·ªçn
        event.target.closest('.category-item').classList.add('active');
        
        // Cu·ªôn ƒë·∫øn ph·∫ßn t∆∞∆°ng ·ª©ng
        switch(category) {
            case 'birthday':
                document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
                break;
            case 'wedding':
                document.querySelector('h2:nth-of-type(2)').scrollIntoView({ behavior: 'smooth' });
                break;
            case 'cupcake':
                document.querySelector('h2:nth-of-type(3)').scrollIntoView({ behavior: 'smooth' });
                break;
            case 'mousse':
                document.querySelector('h2:nth-of-type(4)').scrollIntoView({ behavior: 'smooth' });
                break;
            case 'combo':
                document.querySelector('h2:nth-of-type(5)').scrollIntoView({ behavior: 'smooth' });
                break;
            default:
                document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }
    }
    
    // H√†m cu·ªôn ƒë·∫øn section
    function scrollToSection(sectionId) {
        const element = document.getElementById(sectionId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth' });
        }
    }
    
    // H√†m hi·ªÉn th·ªã m√£ gi·∫£m gi√°
    function showPromoCode() {
        alert('üéâ M√É KHUY·∫æN M√ÉI: BAKECAKES15\nGi·∫£m 15% cho ƒë∆°n h√†ng ƒë·∫ßu ti√™n\n√Åp d·ª•ng ƒë·∫øn h·∫øt th√°ng 12/2024');
    }
    
    // ============================================
    // K·∫æT TH√öC H√ÄM M·ªöI
    // ============================================
    
    // Kh·ªüi t·∫°o khi DOM s·∫µn s√†ng
    document.addEventListener('DOMContentLoaded', function() {
        AuthSystem.init();
        
        // Kh·ªüi t·∫°o gi·ªè h√†ng n·∫øu ch∆∞a c√≥
        if (!localStorage.getItem('cart')) {
            localStorage.setItem('cart', JSON.stringify([]));
        }
        
        // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng gi·ªè h√†ng ban ƒë·∫ßu
        setTimeout(() => {
            try {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 0), 0);
                const displayCount = totalItems > 99 ? '99+' : totalItems;
                
                document.querySelectorAll('#cart-badge, #cart-count, .cart-count').forEach(el => {
                    if (el) {
                        el.textContent = displayCount;
                        el.style.display = totalItems > 0 ? 'flex' : 'none';
                    }
                });
            } catch (error) {
                console.error('L·ªói khi c·∫≠p nh·∫≠t gi·ªè h√†ng:', error);
            }
        }, 100);
        
        // S·ª± ki·ªán form ƒëƒÉng k√Ω nh·∫≠n tin
        const newsletterForm = document.getElementById('newsletter-form');
        if (newsletterForm) {
            newsletterForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const email = this.querySelector('input[type="email"]').value;
                if (email) {
                    alert(`C·∫£m ∆°n b·∫°n ƒë√£ ƒëƒÉng k√Ω nh·∫≠n tin v·ªõi email: ${email}\nM√£ gi·∫£m gi√° 10% ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n!`);
                    this.reset();
                }
            });
        }
        
        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    e.preventDefault();
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Ki·ªÉm tra ƒëƒÉng nh·∫≠p
        const protectedPages = ['sop.html', 'cart.html'];
        const currentPage = window.location.pathname.split('/').pop();
        
        if (protectedPages.includes(currentPage) && !AuthSystem.isLoggedIn()) {
            alert('Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ truy c·∫≠p trang n√†y!');
            setTimeout(() => {
                window.location.href = 'login.html';
            }, 2000);
        }
        
        // S·ª± ki·ªán click v√†o n√∫t gi·ªè h√†ng
        document.getElementById('cart-btn')?.addEventListener('click', function(e) {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                e.preventDefault();
                alert('Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ xem gi·ªè h√†ng!');
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 1500);
            }
        });
        
        // Th√™m thanh cu·ªôn l√™n ƒë·∫ßu trang
        const scrollToTopBtn = document.getElementById('scrollToTop');
        if (scrollToTopBtn) {
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.style.display = 'flex';
                } else {
                    scrollToTopBtn.style.display = 'none';
                }
            });
            
            scrollToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
    });
    
    // H√†m ƒëƒÉng xu·∫•t to√†n c·ª•c
    window.logout = function() {
        AuthSystem.logout();
    };










    // Th√™m v√†o ph·∫ßn script c·ªßa index.html
function viewMemberDetail(memberId) {
    // L∆∞u th√¥ng tin th√†nh vi√™n c·∫ßn xem v√†o localStorage
    localStorage.setItem('selectedMember', memberId);
    
    // Chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang about-us.html
    window.location.href = 'about-us.html';
}
</script>

</body>
</html>